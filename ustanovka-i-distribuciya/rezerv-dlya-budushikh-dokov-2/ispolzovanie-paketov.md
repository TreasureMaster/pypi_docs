# Использование пакетов

## Использование пакетов

### Поиск пакетов

{% hint style="info" %}
TODO: Я везде упоминаю [индекс пакетов Python (PyPI)](publikaciya-paketa.md#the-python-package-index-pypi). Вероятно, следовало бы поднять это в документации, вместо того чтобы объяснять это снова и снова.
{% endhint %}

Как найти пакет? Что ж, простой ответ - сначала проверить [индекс пакета Python (PyPI)](publikaciya-paketa.md#the-python-package-index-pypi). Другие варианты:

* Можно выполнить простой поиск в Интернете с помощью google.com, yahoo и т. д.
* Спросите у сообщества Python, использующего [IRC](glossarii.md#irc)

Мы рассмотрим [индекс пакета Python (PyPI)](publikaciya-paketa.md#the-python-package-index-pypi) позже в документации.

### Установка из других источников

Как при использовании приложения [Pip Installs Python (Pip)](ustanovka-instrumentov-upakovki.md#pip-ustanavlivaet-python-pip) узнать, что установить, при запуске `pip install Markdown`? По умолчанию он проверяет индекс пакета Python (PyPI) на наличие пакета с таким именем. В этом случае он нашел один; но что, если вы хотите установить пакет, который не был загружен в PyPI?

У вас есть несколько вариантов:

* [Установка из архива tarball](ispolzovanie-paketov.md#ustanovka-iz-arkhiva-tarball)
* [Установка из системы контроля версий](ispolzovanie-paketov.md#ustanovka-iz-sistemy-kontrolya-versii-vcs)
* [Добавление URL-адреса для поиска ссылок](ispolzovanie-paketov.md#dobavlenie-url-adresa-dlya-poiska-ssylok)

### Установка из архива tarball

Вы можете установить непосредственно из **tarball** или **zip**-файла, если в корневом каталоге распакованного содержимого есть рабочий файл `setup.py`:

```bash
$ pip install path/to/mypackage.tgz
```

Вы также можете установить **tarball/zip** файл из сети:

```bash
$ pip install http://dist.repoze.org/PIL-1.1.6.tar.gz
```

### Установка из системы контроля версий (VCS)

Используя параметр `--editable` или `-e`, **pip** может устанавливать непосредственно из репозитория системы контроля версий (в настоящее время он поддерживает Subversion, Mercurial, Git и Bazaar):

```bash
$ pip install -e svn+http://svn.colorstudy.com/INITools/trunk#egg=initools-dev
```

Эта опция передается клиенту командной строки для каждой соответствующей VCS, поэтому в вашей системе должна быть установлена VCS. URL-адрес репо должен начинаться с `svn+` (или `hg+`, `git+` или `bzr+`) и заканчиваться на `#egg = packagename`; в противном случае **pip** поддерживает те же форматы URL и проводные протоколы, которые поддерживает сама VCS.

**pip** проверит исходное репо в каталоге `src/` внутри **virtualenv** (т.е. `pip_test_env/src/initools-dev`), а затем запустит `python setup.py develop` в этом исходном репо. Это «связывает» код непосредственно из репозитория с каталогом **site-packages** из **virtualenv** (путем добавления каталога репо в `easy-install.pth`), поэтому изменения, внесенные вами в проверку исходного кода, вступают в силу немедленно.

Если у вас уже есть локальная VCS система, которую вы хотите использовать, вы можете просто использовать команду `pip install -e path/to/repo`, чтобы установить ее «редактируемой» таким же образом.

### Добавление URL-адреса для поиска ссылок

Вы можете использовать параметр `-f` или `--find-links`, чтобы добавить еще один URL-адрес, который должен искать ссылки на пакет. Если вы сбросите несколько архивов пакетов в каталог веб-сервера и включите автоматическое индексирование, вы можете указать **pip** на эту индексную страницу и установить любой из этих пакетов, предполагая, что вы назвали файлы в шаблоне `packagename-version.ext`.

Например, если вы загрузите архив `MyApp-1.0.tgz` в каталог `my-packages` на своем веб-сервере и убедитесь, что для этого каталога включена индексация, вы можете запустить:

```bash
$ pip install MyApp -f http://www.example.com/my-packages/
```

### Запуск собственного индекса пакетов

Если вам нужно больше функций, чем предоставляется PyPI (включая возможность загрузки пакетов с помощью `python setup.py sdist upload`), вы можете запустить программное обеспечение, такое как [chishop](https://github.com/ask/chishop), реализующее PyPI API, на вашем собственном сервере. Затем вы можете использовать параметры **pip** `-i` (или `--index-url`) или `--extra-index-url`, чтобы указать **pip** на свой индекс.

Например, если вы настроили свой собственный индекс на [http://www.example.com/chishop/](http://www.example.com/chishop/), вы можете запустить:

```bash
$ pip install MyPrivateApp -i http://www.example.com/chishop/simple/
```

Если вы используете `-i` **pip**, PyPI не проверяется, а используется только с указанным вами индексом. Если вы устанавливаете несколько пакетов одновременно, некоторые из вашего индекса, а некоторые из PyPI, вы можете вместо этого использовать `--extra-index-url`, чтобы **pip** проверил оба индекса.
