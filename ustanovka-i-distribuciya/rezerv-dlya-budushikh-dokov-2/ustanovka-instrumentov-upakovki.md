# Установка инструментов упаковки

## Установка инструментов упаковки

В [текущем состоянии упаковки](vvedenie-v-upakovku.md#tekushee-sostoyanie-upakovki) в Python необходим набор инструментов для простого управления экосистемой упаковки. В частности, есть два инструмента, которые чрезвычайно удобны в текущей экосистеме. Существует третий инструмент, [Virtual Environments](virtualnye-okruzheniya.md), который будет обсуждаться позже в этой документации, который поможет изолировать экосистему упаковки от глобальной. Комбинация этих инструментов поможет найти, установить и удалить пакеты.

## distribute

[Distribute](https://pypi.org/project/distribute/) - это набор улучшений для модуля стандартной библиотеки Python: **distutils** (для Python 2.3.5 и выше на большинстве платформ; для 64-битных платформ требуется как минимум Python 2.4), который позволяет вам более легко создавать и распространять пакеты Python, особенно те, которые зависят от других пакетов.

**distribute** был создан, поскольку [пакет **setuptools**](https://pypi.org/project/setuptools/) больше не поддерживается. Для сторонних пакетов, скорее всего, потребуется **setuptools**, который предоставляется в пакете **distribute**. Таким образом, каждый раз, когда пакет зависит от пакета **setuptools**, **distribute** сообщит, что уже предоставляет модуль **setuptools**.

{% hint style="danger" %}
В настоящее время (2021 год) поддерживается пакет **setuptools**, в то время как пакет **distribute** устарел.
{% endhint %}

### Инструкция по установке

**distribute** можно установить с помощью скрипта `distribute_setup.py`. Его также можно установить с помощью **easy\_install**, **pip**, **tarball** с исходным кодом или дистрибутива **egg**. `distribute_setup.py` - самый простой и предпочтительный способ установить **distribute** во всех системах.

Загрузите `distribute_setup.py` и запустите его, используя любой интерпретатор Python.

Из оболочки \*nix вы можете:

```bash
$ wget http://python-distribute.org/distribute_setup.py
$ python distribute_setup.py
```

{% hint style="info" %}
Для тех, кто работает в Mac OS X, вы можете использовать **curl -O \<url>** вместо **wget**.
{% endhint %}

{% hint style="info" %}
Версию для разработки **distribute** можно найти по адресу: [http://bitbucket.org/tarek/distribute/](http://bitbucket.org/tarek/distribute/)
{% endhint %}

## pip устанавливает Python (pip)

[pip](https://pypi.org/project/pip/) - это установщик пакетов Python, написанный Яном Бикингом. Он может устанавливать пакеты, перечислять установленные пакеты, обновлять пакеты и удалять пакеты.

Приложение **pip** является заменой [easy\_install](http://peak.telecommunity.com/DevCenter/EasyInstall). Он использует в основном те же методы для поиска пакетов, поэтому пакеты, которые были сделаны с помощью **easy\_install**, также должны быть установлены с помощью **pip**.

{% hint style="info" %}
[Документация по Pip](https://pip.pypa.io/en/stable/) и описание [PyPI для Pip](https://pypi.org/project/pip/)
{% endhint %}

{% hint style="info" %}
??? pip requirements
{% endhint %}

### Установка pip

[Установщик pip](https://pip.pypa.io/en/stable/installing/) может быть установлен с использованием архива исходного кода или с помощью **easy\_install**. Архив с исходным кодом - это рекомендуемый метод установки.

Последнюю версию архива с исходными кодами можно получить из PyPI:

```bash
$ wget http://pypi.python.org/packages/source/p/pip/pip-0.7.2.tar.gz
$ tar xzf pip-0.7.2.tar.gz
$ cd pip-0.7.2
$ python setup.py install
```

Или можно использовать приложение **easy\_install**:

```bash
$ easy_install pip
```

Приложение **pip** установлено.

{% hint style="info" %}
**pip** дополняет [виртуальные среды](virtualnye-okruzheniya.md), и рекомендуется использовать виртуальные среды для изоляции вашей установки.
{% endhint %}

### Установка пакета

Давайте установим пакет [Markdown](https://pypi.org/project/Markdown/):

```bash
$ pip install Markdown
```

**Markdown** установлен; вы можете импортировать и использовать его:

```bash
$ python -c "import markdown; print markdown.markdown('**Excellent**')"
```

### Список установленных пакетов

Чтобы вывести список установленных пакетов и версий, используйте команду **freeze**:

```bash
$ pip freeze
Markdown==2.0.3
wsgiref==0.1.2
```

{% hint style="info" %}
Пакет **wsgiref** является частью стандартной библиотеки Python. В настоящее время это единственный пакет стандартной библиотеки, который включает [метаданные пакета](https://www.python.org/dev/peps/pep-0314/), поэтому это единственный пакет стандартной библиотеки, о наличии которого сообщает **pip**.
{% endhint %}

### Установка конкретных версий

Вы также можете указать **pip** спецификатор версии для пакета, используя один или несколько из `==`, `>=`, `>`, `<`, `<=`:

```bash
$ pip install 'Markdown<2.0'
```

Это найдет вашу текущую установку **Markdown 2.0.3**, автоматически удалит ее и установит **Markdown 1.7** (последняя версия в серии `1.x`) на ее место. Вы даже можете комбинировать спецификаторы версии с запятой:

```bash
$ pip install 'Markdown>2.0,<2.0.3'
```

### Обновление

Если вы хотите обновить пакет до последней доступной версии, используйте флаг `-U` или `--upgrade`:

```bash
$ pip install -U Markdown
```

### Удаление

Теперь давайте удалим Markdown:

```bash
$ pip uninstall Markdown
```

После того, как вы увидите, какие файлы/каталоги будут удалены, и запросив подтверждение, **pip** удалит все, что установлено пакетом **Markdown**.

{% hint style="info" %}
**pip** внутри виртуальной среды удалит только пакеты, установленные в этой виртуальной среде. Например, если вы попытаетесь удалить **wsgiref** через **pip**, он откажется, потому что ссылка находится в глобальной стандартной библиотеке Python.
{% endhint %}
