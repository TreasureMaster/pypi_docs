# Новые и измененные ключевые слова setup ()

## Новые и измененные ключевые слова setup ()

Следующие аргументы ключевого слова для `setup ()` добавляются или изменяются с помощью **setuptools**. Все они необязательны; вам не нужно их предоставлять, если вам не нужна соответствующая функция **setuptools**.

### &#x20;include\_package\_data

Если установлено значение `True`, это указывает программе **setuptools** автоматически включать любые файлы данных, которые он находит в каталогах пакетов, указанных в файле `MANIFEST.in`. Для получения дополнительной информации см. раздел «[Включение файлов данных](podderzhka-failov-dannykh.md#podderzhka-failov-dannykh)».

### &#x20;exclude\_package\_data

Словарь, отображающий имена пакетов в списки шаблонов glob, которые следует исключить из каталогов пакетов. Вы можете использовать это, чтобы обрезать любые лишние файлы, включенные **include\_package\_data**. Полное описание и примеры см. в разделе «[Включение файлов данных](podderzhka-failov-dannykh.md#podderzhka-failov-dannykh)».

### &#x20;package\_data

Словарь, отображающий имена пакетов в списки шаблонов glob. Полное описание и примеры см. в разделе «[Включение файлов данных](podderzhka-failov-dannykh.md#podderzhka-failov-dannykh)». Вам не нужно использовать эту опцию, если вы используете **include\_package\_data**, если вам не нужно добавлять, например, файлы, которые создаются вашим сценарием установки и процессом сборки. (И поэтому не находятся в системе контроля версий или являются файлами, которые вы не хотите включать в свой исходный дистрибутив.)

### &#x20;zip\_safe

Логический (`True` или `False`) флаг, указывающий, можно ли безопасно установить и запустить проект из zip-файла. Если этот аргумент не указан, команде **bdist\_egg** придется анализировать все содержимое вашего проекта на предмет возможных проблем каждый раз, когда она создает **egg**.

### &#x20;install\_requires

Строка или список строк, определяющих, какие другие дистрибутивы необходимо установить, если один есть. См. раздел [Объявление требуемой зависимости](upravlenie-zavisimostyami-v-setuptools.md#obyavlenie-neobkhodimoi-zavisimosti) для получения подробной информации и примеров формата этого аргумента.

### &#x20;entry\_points

Словарь, отображающий имена групп точек входа в строки или списки строк, определяющих точки входа. Точки входа используются для поддержки динамического обнаружения сервисов или плагинов, предоставляемых проектом. Подробности и примеры формата этого аргумента см. в разделе «[Поведение рекламы](tochki-vkhoda.md#reklamnoe-povedenie)». Кроме того, это ключевое слово используется для поддержки [автоматического создания сценария](tochki-vkhoda.md#tochki-vkhoda-entry-points).

### &#x20;extras\_require

Словарь, отображающий имена «extra» (дополнительных функций вашего проекта) в строки или списки строк, определяющие, какие другие дистрибутивы должны быть установлены для поддержки этих функций. См. раздел [Объявление требуемой зависимости](upravlenie-zavisimostyami-v-setuptools.md#obyavlenie-neobkhodimoi-zavisimosti) для получения подробной информации и примеров формата этого аргумента.

### &#x20;python\_requires

Строка, соответствующая спецификатору версии (как определено в PEP 440) для версии Python, используемой для указания Requires-Python, определенного в PEP 345.

### &#x20;setup\_requires

Строка или список строк, указывающих, какие другие дистрибутивы должны присутствовать для запуска сценария установки. **setuptools** попытается получить их (используя **pip**, если он доступен) перед обработкой остальной части сценария установки или команд. Этот аргумент необходим, если вы используете расширения **distutils** как часть процесса сборки; например, расширения, которые обрабатывают аргументы `setup ()` и превращают их в файлы метаданных **EGG-INFO**.

{% hint style="info" %}
**ЗАМЕЧАНИЕ:**

проекты, перечисленные в **setup\_requires**, НЕ будут автоматически установлены в системе, в которой выполняется сценарий установки. Они просто загружаются в каталог **./.eggs**, если они еще не доступны локально. Если вы хотите, чтобы они были установлены, а также были доступны при запуске сценария установки, вы должны добавить их в **install\_requires** **И** **setup\_requires**.
{% endhint %}

### &#x20;dependency\_links

Список строк с именами URL-адресов, по которым будет выполняться поиск при удовлетворении зависимостей. Эти ссылки будут использоваться при необходимости для установки пакетов, указанных в **setup\_requires** или **tests\_require**. Они также будут записаны в метаданные **egg** для использования во время установки инструментами, которые их поддерживают.

### &#x20;namespace\_packages

Список строк, называющихся «пакеты пространства имен» проекта. Пакет пространства имен - это пакет, который может быть разделен на несколько дистрибутивов проекта. Например, пакет **zope** Zope 3 является пакетом пространства имен, поскольку подпакеты, подобные `zope.interface` и `zope.publisher`, могут распространяться отдельно. Система среды выполнения **egg** может автоматически объединять такие подпакеты в один родительский пакет во время выполнения, если вы объявляете их в каждом проекте, содержащем любые подпакеты пакета пространства имен, и пока `__init__.py` пакета пространства имен не содержит никакого кода кроме объявления пространства имен. См. раздел ниже об [использовании **find\_namespace:** или **find\_namespace\_packages**](obnaruzhenie-paketov-i-paket-prostranstva-imen.md#ispolzovanie-find\_namespace-ili-find\_namespace\_packages) для получения дополнительной информации.

### &#x20;test\_suite

Строка с именем подкласса `unittest.TestCase` (или пакетом, или модулем, содержащим один или несколько из них, или методом такого подкласса), или с именем функции, которая может быть вызвана без аргументов и возвращает `unittest.TestSuite`. Если названный набор является модулем, и у модуля есть функция `additional_tests ()`, он вызывается, и результаты добавляются к тестам, которые нужно запустить. Если именованный набор является пакетом, любые подмодули и подпакеты рекурсивно добавляются в общий набор тестов.

Указание этого аргумента позволяет использовать команду **test** для запуска указанного набора тестов, например через `setup.py test`. См. более подробную информацию в разделе о команде [test](spravka-po-komandam-setuptools.md#test-sobiraet-paket-i-zapuskaet-paket-unittest) ниже.

_Новое в версии 41.5.0:_ исключена команда **test**.

### &#x20;tests\_require

Если для тестов вашего проекта требуется один или несколько дополнительных пакетов помимо тех, которые необходимы для его установки, вы можете использовать эту опцию, чтобы указать их. Это должна быть строка или список строк, определяющих, какие другие дистрибутивы должны присутствовать для запуска тестов пакета. Когда вы запустите команду **test**, **setuptools** попытается получить их (используя **pip**, если он доступен). Обратите внимание, что эти необходимые проекты не будут установлены в системе, в которой выполняются тесты, а будут загружены в каталог установки проекта только в том случае, если они еще не установлены локально.

_Новое в версии 41.5.0:_ исключена команда **test**.

### &#x20;test\_loader

Если вы хотите использовать другой способ поиска тестов для запуска, отличный от того, который обычно использует **setuptools**, вы можете указать имя модуля и имя класса в этом аргументе. Именованный класс должен создавать экземпляры без аргументов, а его экземпляры должны поддерживать метод `loadTestsFromNames ()`, как определено в классе **TestLoader** модуля Python **unittest**. **Setuptools** передаст только одно тестовое «name» в аргументе `names`: значение, указанное для аргумента **test\_suite**. Указанный вами загрузчик может интерпретировать эту строку как угодно, поскольку нет никаких ограничений на то, что может содержаться в строке **test\_suite**.

Имя модуля и имя класса должны быть разделены знаком `:`. По умолчанию этот аргумент имеет значение «`setuptools.command.test: ScanningLoader`». Если вы хотите использовать поведение **unittest** по умолчанию, вы можете вместо этого указать `unittest: TestLoader` в качестве аргумента **test\_loader**. Это предотвратит автоматическое сканирование субмодулей и субпакетов.

Указанные здесь модуль и класс могут содержаться в другом пакете, если вы используете параметр **tests\_require**, чтобы гарантировать, что пакет, содержащий класс загрузчика, доступен при запуске команды **test**.

_Новое в версии 41.5.0:_ исключена команда **test**.

### &#x20;eager\_resources

Список строк с именами ресурсов, которые должны быть извлечены вместе, если они необходимы, или если какие-либо расширения C, включенные в проект, импортируются. Этот аргумент полезен только в том случае, если проект будет установлен как zip-файл, и необходимо, чтобы все перечисленные ресурсы были извлечены в файловую систему как единое целое. Перечисленные здесь ресурсы должны быть разделены «/» путями относительно исходного корня, поэтому для перечисления ресурса `foo.png` в пакете `bar.baz` вы должны включить в этот аргумент строку `bar/baz/foo.png`.

Если вам нужно получать ресурсы только по одному или у вас нет каких-либо расширений C, которые обращаются к другим файлам в проекте (например, к файлам данных или разделяемым библиотекам), вам, вероятно, НЕ нужен этот аргумент и не следует путать с этим. Подробнее о том, как работает этот аргумент, см. ниже в разделе «[Автоматическое извлечение ресурсов](avtomaticheskoe-izvlechenie-resursov.md)».

### &#x20;use\_2to3

Преобразуйте исходный код из Python 2 в Python 3 с помощью **2to3** в процессе сборки. Дополнительные сведения см. в разделе «[Поддержка Python 2 и Python 3 с помощью setuptools](../rukovodstva-po-obratnoi-sovmestimosti-i-ustarevshei-praktike/podderzhka-python-2-i-python-3-s-pomoshyu-setuptools.md)».

### &#x20;convert\_2to3\_doctests

Список исходных файлов **doctest**, которые необходимо преобразовать с помощью **2to3**. Дополнительные сведения см. в разделе «[Поддержка Python 2 и Python 3 с помощью setuptools](../rukovodstva-po-obratnoi-sovmestimosti-i-ustarevshei-praktike/podderzhka-python-2-i-python-3-s-pomoshyu-setuptools.md)».

### &#x20;use\_2to3\_fixers

Список модулей для поиска дополнительных исправлений, которые будут использоваться во время преобразования **2to3**. Дополнительные сведения см. в разделе «[Поддержка Python 2 и Python 3 с помощью setuptools](../rukovodstva-po-obratnoi-sovmestimosti-i-ustarevshei-praktike/podderzhka-python-2-i-python-3-s-pomoshyu-setuptools.md)».

### &#x20;project\_urls

Произвольное сопоставление имен URL-адресов с гиперссылками, позволяющее более расширяемую документацию о том, где можно найти различные ресурсы, чем предоставляют простые параметры **url** и **download\_url**.
