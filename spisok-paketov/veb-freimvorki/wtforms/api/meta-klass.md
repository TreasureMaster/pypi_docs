# Meta класс

Парадигма класса **Meta** позволяет настраивать функции **WTForms** и даже вводить новые модели поведения. Он также предоставляет место, где можно выполнить настройку любых дополнительных модулей.

Типичное использование выглядит примерно так:

```python
class MyForm(Form):
    class Meta:
        csrf = True
        locales = ('en_US', 'en')

    name = TextField(...)
    # и так далее...
```

Для большинства пользователей использование класса **Meta** в основном будет сделано для настройки параметров, используемых для поведения по умолчанию, однако для полноты здесь показан весь API-интерфейс Meta-интерфейса.

### &#x20;_class_ wtforms.meta.DefaultMeta

Это класс **Meta** по умолчанию, который определяет все значения по умолчанию и, следовательно, также «API» интерфейса **Meta** класса.

### Конфигурация

* &#x20;**csrf** _= False -_ Установка для csrf значения `True` включит CSRF для формы. Значение также можно переопределить для каждого экземпляра с помощью настройки времени создания (например, если csrf необходимо отключить только в особом случае).
* &#x20;**csrf\_class** _= None -_ Если установлено, это класс, который используется для реализации защиты CSRF. Прочтите [документацию CSRF](csrf-zashita.md), чтобы получить больше информации о том, как использовать.
* &#x20;**csrf\_field\_name** _= 'csrf\_token' -_ Имя автоматически добавляемого поля токена CSRF.
* &#x20;**locales** _= False -_ Установка последовательности строк определяет порядок приоритета локалей, чтобы попытаться найти переводы для встроенных сообщений **WTForms**. Если значение `False`, то строки не переводятся (поставщик переводов является фиктивным).
* &#x20;**cache\_translations** _= True -_ Если `True` (по умолчанию), то объекты перевода кешируются. Кэш по умолчанию создается на уровне класса, поэтому он используется для всех классов **Meta**.

### Расширенная настройка

Обычно вам не нужно переопределять эти методы, поскольку они обеспечивают базовое поведение **WTForms**.

* &#x20;**build\_csrf**(_form_) - Создает реализацию CSRF. Это вызывается один раз для каждого экземпляра формы. Реализация по умолчанию строит класс, на который ссылается _**csrf\_class**_, без аргументов. Если _**csrf\_class**_ имеет значение `None`, вместо этого будет использоваться реализация по умолчанию **wtforms.csrf.session.SessionCSRF**.
  * _**параметр form**_ - Форма.
  * _**возвращает**_ - Реализация CSRF.
* &#x20;**get\_translations**(_form_) - Переопределение в подклассах для обеспечения фабрики альтернативных переводов. Дополнительную информацию см. в документации i18n.
  * _**параметр form**_ - Форма.
  * _**возвращает**_ - Объект, предоставляющий методы `gettext ()` и `ngettext ()`.
* &#x20;**bind\_field**(_form_, _unbound\_field_, _options_) - позволяет настраивать привязку полей. Реализация по умолчанию просто передает параметры в **UnboundField.bind ()**.
  * _**параметр form**_ - Форма.
  * _**параметр unbound\_field**_ - Несвязанное поле.
  * _**параметр options**_ - Словарь параметров, которые обычно передаются в поле.
  * _**возвращает**_ - Связанное поле.
* &#x20;**wrap\_formdata**(_form_, _formdata_) - позволяет создавать собственные оболочки для данных формы **WTForms**. Реализация по умолчанию обнаруживает **multidicts** в стиле **webob** и обертывает их, в противном случае данные формы передаются обратно без изменений.
  * _**параметр form**_ - Форма.
  * _**параметр formdata**_ - Данные формы.
  * _**возвращает**_ - Оболочка ввода формы, совместимая с **WTForms**.
* &#x20;**render\_field**(_field_, _render\_kw_) - позволяет настроить способ отрисовки виджета. Реализация по умолчанию вызывает `field.widget (field, ** render_kw)`.
